<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI-Powered Project Idea Generator</title>

  <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    :root {
      --beige: #f5f0e6;
      --light-bg: var(--beige);
      --light-text: #333;
      --brown: #4B2E05; /* Dark Brown */
      --brown-hover: #6b4220; /* Lighter brown on hover */
      --glow-color: rgba(165, 120, 80, 0.5); /* Warm light brown glow */
      --nav-bg: #2c1810;
      --nav-text: #f5f0e6;
      --user-msg-bg: #e8dfca;
      --ai-msg-bg: #f9f5eb;
      --primary-gradient: linear-gradient(135deg, #6b4220 0%, #4B2E05 100%);
      --chat-bg: rgba(255, 255, 255, 0.92);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--light-bg);
      color: var(--light-text);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
      /* Subtle background texture */
      background-color: #f5f0e6;
      background-image: url("data:image/svg+xml,%3Csvg width='52' height='26' viewBox='0 0 52 26' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239c8118' fill-opacity='0.2'%3E%3Cpath d='M10 10c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-3.314 0-6-2.686-6-6 0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6zm25.464-1.95l8.486 8.486-1.414 1.414-8.486-8.486 1.414-1.414z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      filter: drop-shadow(0px 8px 18px rgba(0, 100, 255, 0.25)) 
              drop-shadow(0px 4px 8px rgba(255, 255, 100, 0.15));
      position: relative;
      overflow-x: hidden;
    }

    /* Tech-inspired background */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        radial-gradient(circle at 10% 20%, rgba(165, 120, 80, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 90% 70%, rgba(75, 46, 5, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 50% 40%, rgba(165, 120, 80, 0.1) 0%, transparent 30%);
      z-index: -2;
    }

    /* Navigation Bar */
    .navbar {
      background-color: var(--nav-bg);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
    }

    .nav-logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .nav-logo-icon {
      width: 40px;
      height: 40px;
      background: var(--brown);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .nav-brand {
      font-family: 'Creepster', cursive;
      font-size: 1.8rem;
      color: var(--nav-text);
      text-decoration: none;
      letter-spacing: 2px;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 2rem;
      align-items: center;
    }

    .nav-links a {
      color: var(--nav-text);
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      transition: background-color 0.3s, color 0.3s;
    }

    .nav-links a:hover {
      background-color: var(--brown);
      color: white;
    }

    .register-btn {
      background-color: var(--brown);
      color: white !important;
      padding: 0.7rem 1.5rem !important;
      border-radius: 8px;
      font-weight: 600;
      transition: background-color 0.2s, transform 0.2s;
    }

    .register-btn:hover {
      background-color: var(--brown-hover);
      transform: translateY(-2px);
    }

    /* Main Content */
    .main-content {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      max-width: 800px;
      margin-top: 80px;
      width: 100%;
    }

    .page-title {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--brown);
      margin-bottom: 30px;
      text-align: center;
      font-family: 'Segoe UI', sans-serif;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Chat interface */
    .chat-container {
      width: 100%;
      background: var(--chat-bg);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 20px;
      margin-top: 20px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease, padding 0.5s ease;
      box-shadow: 0 10px 30px rgba(75, 46, 5, 0.15), 
                  0 2px 10px rgba(75, 46, 5, 0.05);
      border: 1px solid rgba(165, 120, 80, 0.2);
    }

    .chat-container.active {
      max-height: 500px;
      padding: 20px;
    }

    .chat-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(165, 120, 80, 0.2);
    }

    .chat-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--primary-gradient);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      margin-right: 10px;
    }

    .chat-title {
      font-weight: 600;
      color: var(--brown);
    }

    .chat-messages {
      height: 300px;
      overflow-y: auto;
      padding: 10px;
      margin-bottom: 15px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      scroll-behavior: smooth;
    }

    /* Custom scrollbar */
    .chat-messages::-webkit-scrollbar {
      width: 6px;
    }

    .chat-messages::-webkit-scrollbar-track {
      background: rgba(165, 120, 80, 0.1);
      border-radius: 10px;
    }

    .chat-messages::-webkit-scrollbar-thumb {
      background: var(--brown);
      border-radius: 10px;
    }

    .message {
      padding: 12px 16px;
      border-radius: 18px;
      max-width: 80%;
      animation: fadeIn 0.3s ease;
      position: relative;
      line-height: 1.5;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .user-message {
      background-color: var(--user-msg-bg);
      align-self: flex-end;
      border-bottom-right-radius: 5px;
      margin-left: 20%;
    }

    .ai-message {
      background-color: var(--ai-msg-bg);
      align-self: flex-start;
      border-bottom-left-radius: 5px;
      margin-right: 20%;
    }

    .message-time {
      font-size: 0.7rem;
      color: rgba(0, 0, 0, 0.4);
      margin-top: 5px;
      text-align: right;
    }

    .chat-input-container {
      display: flex;
      gap: 10px;
      background: white;
      border-radius: 24px;
      padding: 5px;
      box-shadow: 0 2px 10px rgba(75, 46, 5, 0.1);
      border: 1px solid rgba(165, 120, 80, 0.2);
    }

    .chat-input {
      flex: 1;
      padding: 12px 15px;
      border: none;
      border-radius: 24px;
      font-size: 1rem;
      outline: none;
      background: transparent;
    }

    .chat-send-btn {
      padding: 12px 20px;
      background: var(--primary-gradient);
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .chat-send-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(75, 46, 5, 0.2);
    }

    .toggle-chat-btn {
      margin-top: 20px;
      background: var(--primary-gradient);
      border: none;
      color: white;
      padding: 12px 25px;
      border-radius: 30px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(75, 46, 5, 0.2);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toggle-chat-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(75, 46, 5, 0.3);
    }

    /* Status indicator */
    .status-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
      font-size: 0.9rem;
      color: #4caf50;
    }

    .status-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #4caf50;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    /* Suggestions chips */
    .suggestions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 15px;
      margin-bottom: 10px;
    }

    .suggestion-chip {
      background: rgba(75, 46, 5, 0.1);
      border: 1px solid rgba(75, 46, 5, 0.2);
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .suggestion-chip:hover {
      background: rgba(75, 46, 5, 0.2);
      transform: translateY(-2px);
    }

    /* Mobile Menu */
    .mobile-menu-toggle {
      display: none;
      flex-direction: column;
      cursor: pointer;
      gap: 4px;
    }

    .mobile-menu-toggle span {
      width: 25px;
      height: 3px;
      background-color: var(--nav-text);
      transition: 0.3s;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .navbar {
        padding: 1rem;
      }

      .nav-links {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--nav-bg);
        flex-direction: column;
        padding: 1rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .nav-links.active {
        display: flex;
      }

      .mobile-menu-toggle {
        display: flex;
      }

      .nav-brand {
        font-size: 1.4rem;
      }
      
      .main-content {
        padding: 1rem;
        margin-top: 70px;
      }
      
      .page-title {
        font-size: 2rem;
      }
      
      .chat-container.active {
        max-height: 450px;
      }
      
      .chat-messages {
        height: 250px;
      }
      
      .message {
        max-width: 90%;
      }
      
      .user-message {
        margin-left: 10%;
      }
      
      .ai-message {
        margin-right: 10%;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-logo">
      <div class="nav-logo-icon">AI</div>
      <a href="#" class="nav-brand">AI-Powered Project Idea</a>
    </div>
    
    <ul class="nav-links" id="navLinks">
        <li><a href="Team.html">Team</a></li>
      <li><a href="aipage.html">IdeaHub</a></li>
      <li><a href="faq.html">FAQ</a></li>
      <li><a href="resources.html">EduZone</a></li>
    </ul>

    <div class="mobile-menu-toggle" id="mobileToggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </nav>

  <div class="main-content">
    <h1 class="page-title">Generate Your Next Project</h1>
    
    <button class="toggle-chat-btn" id="toggle-chat-btn">
      <i class="fas fa-robot"></i> IDEA HUB
    </button>
    
    <div class="chat-container active" id="chat-container">
      <div class="chat-header">
        <div class="chat-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="chat-title">Project Idea Assistant</div>
      </div>
      
      <div class="chat-messages" id="chat-messages">
        <div class="message ai-message">
          Hi! I can help you refine your project idea. What kind of project are you interested in?
          <div class="message-time">Just now</div>
        </div>
      </div>
      
      <div class="suggestions">
        <div class="suggestion-chip" data-suggestion="Web application">Web app</div>
        <div class="suggestion-chip" data-suggestion="Mobile app">Mobile app</div>
        <div class="suggestion-chip" data-suggestion="Data analysis project">Data analysis</div>
        <div class="suggestion-chip" data-suggestion="AI/ML project">AI/ML</div>
      </div>
      
      <div class="chat-input-container">
        <input type="text" class="chat-input" id="chat-input" placeholder="Describe your project idea...">
        <button class="chat-send-btn" id="chat-send-btn">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    // Pre-configured API key for immediate use
    const apiKey = "AIzaSyATcTLlUa8OxAu0h5g31V2m3XO0kkT4c-c";
    
    // Sample chat responses for demo (fallback)
    const sampleChatResponses = [
      "Web app? Good choice. What specific problem will it solve?",
      "Mobile app? Consider your target audience and main features.",
      "Data analysis project? What dataset will you use?",
      "Game development? Which platform and genre?",
      "AI project? What specific technology will you implement?",
    ];

    const mobileToggle = document.getElementById('mobileToggle');
    const navLinks = document.getElementById('navLinks');
    const toggleChatBtn = document.getElementById('toggle-chat-btn');
    const chatContainer = document.getElementById('chat-container');
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');
    const chatSendBtn = document.getElementById('chat-send-btn');
    const suggestionChips = document.querySelectorAll('.suggestion-chip');
    
    let chatActive = true;
    let conversationHistory = [
      {
        role: "user",
        parts: [{ text: "You are a project idea assistant. Please provide concise, brief answers (1-2 sentences max) to help users refine their project ideas. Keep responses short and to the point." }]
      },
      {
        role: "model",
        parts: [{ text: "Understood. I will provide short, concise answers to help refine project ideas." }]
      }
    ]; 

    // Mobile menu toggle
    mobileToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
    });

    // Toggle chat interface
    toggleChatBtn.addEventListener('click', () => {
      chatActive = !chatActive;
      if (chatActive) {
        chatContainer.classList.add('active');
        toggleChatBtn.innerHTML = '<i class="fas fa-times"></i> Close Chat';
        chatInput.focus();
      } else {
        chatContainer.classList.remove('active');
        toggleChatBtn.innerHTML = '<i class="fas fa-robot"></i> Refine with AI Chat';
      }
    });

    // Send chat message
    function sendChatMessage() {
      const message = chatInput.value.trim();
      if (!message) return;
      
      addMessageToChat(message, 'user');
      conversationHistory.push({ role: "user", parts: [{ text: message }] });
      
      chatInput.value = '';
      
      const typingIndicator = document.createElement('div');
      typingIndicator.className = 'message ai-message';
      typingIndicator.id = 'typing-indicator';
      typingIndicator.innerHTML = '<i class="fas fa-ellipsis-h"></i> Thinking...';
      chatMessages.appendChild(typingIndicator);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      getAIResponse(message);
    }

    // Handle Enter key in chat
    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        sendChatMessage();
      }
    });

    // Send button click
    chatSendBtn.addEventListener('click', sendChatMessage);

    // Add message to chat
    function addMessageToChat(message, sender) {
      const messageElement = document.createElement('div');
      messageElement.className = `message ${sender}-message`;
      messageElement.textContent = message;
      
      const timeElement = document.createElement('div');
      timeElement.className = 'message-time';
      timeElement.textContent = 'Just now';
      
      messageElement.appendChild(timeElement);
      chatMessages.appendChild(messageElement);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Suggestion chips handler
    suggestionChips.forEach(chip => {
      chip.addEventListener('click', () => {
        const suggestion = chip.getAttribute('data-suggestion');
        chatInput.value = `I want to build a ${suggestion}.`;
        sendChatMessage();
      });
    });

    // Get AI response using Gemini API
    async function getAIResponse(userMessage) {
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${apiKey}`;

      const payload = {
        contents: conversationHistory,
        generationConfig: {
          temperature: 0.7,
          maxOutputTokens: 150, // Reduced for shorter responses
          topP: 0.9,
        }
      };

      try {
        const response = await fetch(apiUrl, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(payload)
        });

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const result = await response.json();
        const candidate = result.candidates?.[0];
        
        let aiResponse = "Sorry, I couldn't generate a response at this time.";
        if (candidate && candidate.content?.parts?.[0]?.text) {
          aiResponse = candidate.content.parts[0].text.trim();
          
          // Further shorten the response if it's too long
          if (aiResponse.split(' ').length > 25) {
            const sentences = aiResponse.split('. ');
            if (sentences.length > 1) {
              aiResponse = sentences[0] + '.';
            }
          }
        }
        
        const typingIndicator = document.getElementById('typing-indicator');
        if (typingIndicator) typingIndicator.remove();

        addMessageToChat(aiResponse, 'ai');
        conversationHistory.push({ role: "model", parts: [{ text: aiResponse }] });

      } catch (error) {
        console.error("Error calling Gemini API:", error);
        const typingIndicator = document.getElementById('typing-indicator');
        if (typingIndicator) typingIndicator.remove();
        
        // Use fallback responses if API fails
        const randomResponse = sampleChatResponses[Math.floor(Math.random() * sampleChatResponses.length)];
        addMessageToChat(randomResponse, 'ai');
        conversationHistory.push({ role: "model", parts: [{ text: randomResponse }] });
      }
    }

    // Close mobile menu when clicking on links
    navLinks.addEventListener('click', (e) => {
      if (e.target.tagName === 'A') {
        navLinks.classList.remove('active');
      }
    });

    // Auto-focus on chat input when page loads
    window.addEventListener('load', () => {
      chatInput.focus();
    });
  </script>
</body>
</html>